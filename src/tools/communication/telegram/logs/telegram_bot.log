2024-12-17 15:36:53,811 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=ReadError(BrokenResourceError())
2024-12-17 15:36:53,811 - httpcore.http11 - DEBUG - response_closed.started
2024-12-17 15:36:53,812 - httpcore.http11 - DEBUG - response_closed.complete
2024-12-17 15:36:53,812 - __main__ - ERROR - Failed to get updates: httpx.ReadError: 
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 136, in handle_async_request
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 217, in _receive_event
    data = await self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_backends/anyio.py", line 32, in read
    with map_exceptions(exc_map):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 155, in __exit__
    self.gen.throw(value)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_httpxrequest.py", line 293, in do_request
    res = await self._client.request(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 155, in __exit__
    self.gen.throw(value)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/farda/CascadeProjects/ai-tools-ecosystem/src/tools/communication/telegram/bot.py", line 70, in main
    updates = await bot.get_updates(offset=offset, timeout=30)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/_bot.py", line 4480, in get_updates
    await self._post(
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/_bot.py", line 619, in _post
    return await self._do_post(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/_bot.py", line 648, in _do_post
    result = await request.post(
             ^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_baserequest.py", line 202, in post
    result = await self._request_wrapper(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_baserequest.py", line 334, in _request_wrapper
    code, payload = await self.do_request(
                    ^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_httpxrequest.py", line 317, in do_request
    raise NetworkError(f"httpx.{err.__class__.__name__}: {err}") from err
telegram.error.NetworkError: httpx.ReadError: 
2024-12-17 15:36:54,817 - __main__ - INFO - Polling for updates with offset 794822784...
2024-12-17 15:36:54,817 - telegram.Bot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 30, 'offset': 794822784}`
2024-12-17 15:36:54,818 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-12-17 15:36:54,861 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b43830>
2024-12-17 15:36:54,861 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x103786d50> server_hostname='api.telegram.org' timeout=5.0
2024-12-17 15:36:54,881 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1039fdd30>
2024-12-17 15:36:54,881 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-12-17 15:36:54,881 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-12-17 15:36:54,881 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-12-17 15:36:54,882 - httpcore.http11 - DEBUG - send_request_body.complete
2024-12-17 15:36:54,882 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-12-17 15:36:54,904 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Tue, 17 Dec 2024 15:36:54 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'352'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-12-17 15:36:54,905 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8139093437:AAGyb6pZehLD5GPeO6P4XLM1J40xnYOw-G8/getUpdates "HTTP/1.1 200 OK"
2024-12-17 15:36:54,905 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-12-17 15:36:54,905 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-12-17 15:36:54,905 - httpcore.http11 - DEBUG - response_closed.started
2024-12-17 15:36:54,905 - httpcore.http11 - DEBUG - response_closed.complete
2024-12-17 15:36:54,906 - telegram.Bot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[{'update_id': 794822784, 'message': {'message_id': 216, 'from': {'id': 925850080, 'is_bot': False, 'first_name': 'Hezzron', 'last_name': 'Austin', 'username': 'hezzronaustin', 'language_code': 'en'}, 'chat': {'id': 925850080, 'first_name': 'Hezzron', 'last_name': 'Austin', 'username': 'hezzronaustin', 'type': 'private'}, 'date': 1734449812, 'text': 'Hello'}}]`
2024-12-17 15:36:54,906 - telegram.Bot - DEBUG - Getting updates: [794822784]
2024-12-17 15:36:54,907 - __main__ - INFO - Received 1 updates
2024-12-17 15:36:54,907 - __main__ - INFO - Processing update: {'message': {'channel_chat_created': False, 'delete_chat_photo': False, 'group_chat_created': False, 'supergroup_chat_created': False, 'text': 'Hello', 'chat': {'first_name': 'Hezzron', 'id': 925850080, 'last_name': 'Austin', 'type': <ChatType.PRIVATE>, 'username': 'hezzronaustin'}, 'date': 1734449812, 'message_id': 216, 'from': {'first_name': 'Hezzron', 'id': 925850080, 'is_bot': False, 'language_code': 'en', 'last_name': 'Austin', 'username': 'hezzronaustin'}}, 'update_id': 794822784}
2024-12-17 15:36:54,908 - src.tools.communication.telegram.handler - DEBUG - Processing update: {
  "message": {
    "channel_chat_created": false,
    "delete_chat_photo": false,
    "group_chat_created": false,
    "supergroup_chat_created": false,
    "text": "Hello",
    "chat": {
      "first_name": "Hezzron",
      "id": 925850080,
      "last_name": "Austin",
      "type": "private",
      "username": "hezzronaustin"
    },
    "date": 1734449812,
    "message_id": 216,
    "from": {
      "first_name": "Hezzron",
      "id": 925850080,
      "is_bot": false,
      "language_code": "en",
      "last_name": "Austin",
      "username": "hezzronaustin"
    }
  },
  "update_id": 794822784
}
2024-12-17 15:36:54,908 - src.tools.communication.telegram.handler - INFO - Forwarding message to Godfarda from hezzronaustin: Hello
2024-12-17 15:36:54,908 - src.agents.godfarda.godfarda_agent - INFO - GodFarda processing message: Hello
2024-12-17 15:36:54,908 - src.agents.godfarda.godfarda_agent - INFO - From user: {
  "username": "hezzronaustin",
  "first_name": "Hezzron",
  "last_name": "Austin",
  "chat_id": "925850080",
  "message_id": 216
}
2024-12-17 15:36:54,908 - src.agents.godfarda.godfarda_agent - INFO - Platform: telegram
2024-12-17 15:36:54,913 - src.agents.godfarda.godfarda_agent - ERROR - Error processing message: 'coroutine' object is not iterable
2024-12-17 15:36:54,913 - src.tools.communication.telegram.handler - ERROR - Handling error: Failed to process message: 'coroutine' object is not iterable
2024-12-17 15:36:54,913 - src.tools.ai.ollama.chat - DEBUG - Sending request to Ollama - Model: llama3.2, Messages: [{"role": "user", "content": "You are a helpful AI assistant. An error has occurred. Please provide a friendly and helpful response.\n\nUser: Error: Failed to process message: 'coroutine' object is not iterable\n\nPlease provide a friendly response to the user explaining the error."}]
2024-12-17 15:37:09,921 - src.tools.ai.ollama.chat - DEBUG - Received response from Ollama: {"model": "llama3.2", "created_at": "2024-12-17T15:37:09.914958Z", "message": {"role": "assistant", "content": "Hi there! I'm happy to help you, but it looks like I've hit a snag with my processing powers.\n\nThe error \"coroutine\" object is not iterable seems to be happening because of a specific type of code that's using coroutines (which are a way for asynchronous functions to be executed). \n\nCoroutines can't be directly iterated over; they need to be started manually and then control is passed back and forth between them, which makes it tricky to use.\n\nHere are some potential solutions:\n\n1. **Double-check your code**: Please make sure you haven't accidentally tried to iterate over a coroutine using the for loop or any other iterable function. If this happens in your code, try replacing it with an asyncio.run() call.\n\n2. **Use an event loop**: Make sure that coroutines are being started within an event loop (usually provided by the asyncio module). This is necessary because coroutines rely on the event loop to manage their execution.\n\n3. **Use await and async**: Coroutines should be defined using async/await syntax, which allows Python to handle the context switching for you.\n\nIf none of these suggestions resolve your issue, feel free to provide more details about what code is causing this error and I'll do my best to help!"}, "done_reason": "stop", "done": true, "total_duration": 14992823750, "load_duration": 847846000, "prompt_eval_count": 75, "prompt_eval_duration": 2200000000, "eval_count": 257, "eval_duration": 11940000000}
2024-12-17 15:37:09,924 - src.tools.communication.telegram.handler - ERROR - Failed to get AI error response: 'ToolResponse' object has no attribute 'get'
Traceback (most recent call last):
  File "/Users/farda/CascadeProjects/ai-tools-ecosystem/src/tools/communication/telegram/handler.py", line 267, in handle_error
    if error_response.success and error_response.data:
                       ^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/pydantic/main.py", line 892, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'ToolResponse' object has no attribute 'get'
2024-12-17 15:37:09,927 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': '925850080', 'text': "🤖 I apologize, but I encountered an error while processing your request. The development team has been notified. Please try again later.\n\n🔍 Technical details: Failed to process message: 'coroutine' object is not iterable"}`
2024-12-17 15:37:09,930 - httpcore.connection - DEBUG - close.started
2024-12-17 15:37:09,930 - httpcore.connection - DEBUG - close.complete
2024-12-17 15:37:09,931 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-12-17 15:37:09,947 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b40890>
2024-12-17 15:37:09,947 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1037865d0> server_hostname='api.telegram.org' timeout=5.0
2024-12-17 15:37:09,963 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b40440>
2024-12-17 15:37:09,964 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-12-17 15:37:09,964 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-12-17 15:37:09,964 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-12-17 15:37:09,964 - httpcore.http11 - DEBUG - send_request_body.complete
2024-12-17 15:37:09,964 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-12-17 15:37:09,999 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Tue, 17 Dec 2024 15:37:09 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'511'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-12-17 15:37:10,000 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8139093437:AAGyb6pZehLD5GPeO6P4XLM1J40xnYOw-G8/sendMessage "HTTP/1.1 200 OK"
2024-12-17 15:37:10,000 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-12-17 15:37:10,000 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-12-17 15:37:10,000 - httpcore.http11 - DEBUG - response_closed.started
2024-12-17 15:37:10,000 - httpcore.http11 - DEBUG - response_closed.complete
2024-12-17 15:37:10,001 - telegram.Bot - DEBUG - Call to Bot API endpoint `sendMessage` finished with return value `{'message_id': 217, 'from': {'id': 8139093437, 'is_bot': True, 'first_name': 'Godfarda', 'username': 'Godfardabot'}, 'chat': {'id': 925850080, 'first_name': 'Hezzron', 'last_name': 'Austin', 'username': 'hezzronaustin', 'type': 'private'}, 'date': 1734449829, 'text': "🤖 I apologize, but I encountered an error while processing your request. The development team has been notified. Please try again later.\n\n🔍 Technical details: Failed to process message: 'coroutine' object is not iterable"}`
2024-12-17 15:37:10,002 - __main__ - INFO - Update processing result: success=False data=None error="Failed to process message: 'coroutine' object is not iterable"
2024-12-17 15:37:10,002 - __main__ - INFO - Polling for updates with offset 794822785...
2024-12-17 15:37:10,002 - telegram.Bot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 30, 'offset': 794822785}`
2024-12-17 15:37:10,003 - httpcore.connection - DEBUG - close.started
2024-12-17 15:37:10,003 - httpcore.connection - DEBUG - close.complete
2024-12-17 15:37:10,003 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-12-17 15:37:10,020 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1039fd520>
2024-12-17 15:37:10,020 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x103786d50> server_hostname='api.telegram.org' timeout=5.0
2024-12-17 15:37:10,040 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b43ec0>
2024-12-17 15:37:10,040 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-12-17 15:37:10,040 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-12-17 15:37:10,040 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-12-17 15:37:10,040 - httpcore.http11 - DEBUG - send_request_body.complete
2024-12-17 15:37:10,040 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-12-17 15:37:40,058 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Tue, 17 Dec 2024 15:37:40 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-12-17 15:37:40,059 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8139093437:AAGyb6pZehLD5GPeO6P4XLM1J40xnYOw-G8/getUpdates "HTTP/1.1 200 OK"
2024-12-17 15:37:40,059 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-12-17 15:37:40,059 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-12-17 15:37:40,060 - httpcore.http11 - DEBUG - response_closed.started
2024-12-17 15:37:40,060 - httpcore.http11 - DEBUG - response_closed.complete
2024-12-17 15:37:40,060 - telegram.Bot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2024-12-17 15:37:40,060 - telegram.Bot - DEBUG - No new updates found.
2024-12-17 15:37:40,060 - __main__ - INFO - Received 0 updates
2024-12-17 15:37:40,060 - __main__ - INFO - Polling for updates with offset 794822785...
2024-12-17 15:37:40,060 - telegram.Bot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 30, 'offset': 794822785}`
2024-12-17 15:37:40,061 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-12-17 15:37:40,062 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-12-17 15:37:40,062 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-12-17 15:37:40,062 - httpcore.http11 - DEBUG - send_request_body.complete
2024-12-17 15:37:40,062 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-12-17 15:38:00,724 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=ReadError(BrokenResourceError())
2024-12-17 15:38:00,726 - httpcore.http11 - DEBUG - response_closed.started
2024-12-17 15:38:00,726 - httpcore.http11 - DEBUG - response_closed.complete
2024-12-17 15:38:00,726 - __main__ - ERROR - Failed to get updates: httpx.ReadError: 
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 136, in handle_async_request
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 217, in _receive_event
    data = await self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_backends/anyio.py", line 32, in read
    with map_exceptions(exc_map):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 155, in __exit__
    self.gen.throw(value)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_httpxrequest.py", line 293, in do_request
    res = await self._client.request(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 155, in __exit__
    self.gen.throw(value)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/farda/CascadeProjects/ai-tools-ecosystem/src/tools/communication/telegram/bot.py", line 70, in main
    updates = await bot.get_updates(offset=offset, timeout=30)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/_bot.py", line 4480, in get_updates
    await self._post(
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/_bot.py", line 619, in _post
    return await self._do_post(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/_bot.py", line 648, in _do_post
    result = await request.post(
             ^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_baserequest.py", line 202, in post
    result = await self._request_wrapper(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_baserequest.py", line 334, in _request_wrapper
    code, payload = await self.do_request(
                    ^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_httpxrequest.py", line 317, in do_request
    raise NetworkError(f"httpx.{err.__class__.__name__}: {err}") from err
telegram.error.NetworkError: httpx.ReadError: 
2024-12-17 15:38:01,730 - __main__ - INFO - Polling for updates with offset 794822785...
2024-12-17 15:38:01,730 - telegram.Bot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 30, 'offset': 794822785}`
2024-12-17 15:38:01,731 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-12-17 15:38:01,749 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b55520>
2024-12-17 15:38:01,749 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x103786d50> server_hostname='api.telegram.org' timeout=5.0
2024-12-17 15:38:01,792 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b43530>
2024-12-17 15:38:01,792 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-12-17 15:38:01,793 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-12-17 15:38:01,793 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-12-17 15:38:01,793 - httpcore.http11 - DEBUG - send_request_body.complete
2024-12-17 15:38:01,793 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-12-17 15:38:31,920 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Tue, 17 Dec 2024 15:38:31 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-12-17 15:38:31,921 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8139093437:AAGyb6pZehLD5GPeO6P4XLM1J40xnYOw-G8/getUpdates "HTTP/1.1 200 OK"
2024-12-17 15:38:31,922 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-12-17 15:38:31,922 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-12-17 15:38:31,922 - httpcore.http11 - DEBUG - response_closed.started
2024-12-17 15:38:31,922 - httpcore.http11 - DEBUG - response_closed.complete
2024-12-17 15:38:31,923 - telegram.Bot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2024-12-17 15:38:31,923 - telegram.Bot - DEBUG - No new updates found.
2024-12-17 15:38:31,923 - __main__ - INFO - Received 0 updates
2024-12-17 15:38:31,923 - __main__ - INFO - Polling for updates with offset 794822785...
2024-12-17 15:38:31,923 - telegram.Bot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 30, 'offset': 794822785}`
2024-12-17 15:38:31,924 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-12-17 15:38:31,925 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-12-17 15:38:31,925 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-12-17 15:38:31,926 - httpcore.http11 - DEBUG - send_request_body.complete
2024-12-17 15:38:31,926 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-12-17 15:39:06,928 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=ReadTimeout(TimeoutError())
2024-12-17 15:39:06,928 - httpcore.http11 - DEBUG - response_closed.started
2024-12-17 15:39:06,928 - httpcore.http11 - DEBUG - response_closed.complete
2024-12-17 15:39:06,928 - __main__ - ERROR - Failed to get updates: Timed out
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 136, in handle_async_request
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 217, in _receive_event
    data = await self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_backends/anyio.py", line 32, in read
    with map_exceptions(exc_map):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 155, in __exit__
    self.gen.throw(value)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_httpxrequest.py", line 293, in do_request
    res = await self._client.request(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 155, in __exit__
    self.gen.throw(value)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/farda/CascadeProjects/ai-tools-ecosystem/src/tools/communication/telegram/bot.py", line 70, in main
    updates = await bot.get_updates(offset=offset, timeout=30)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/_bot.py", line 4480, in get_updates
    await self._post(
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/_bot.py", line 619, in _post
    return await self._do_post(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/_bot.py", line 648, in _do_post
    result = await request.post(
             ^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_baserequest.py", line 202, in post
    result = await self._request_wrapper(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_baserequest.py", line 334, in _request_wrapper
    code, payload = await self.do_request(
                    ^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_httpxrequest.py", line 310, in do_request
    raise TimedOut from err
telegram.error.TimedOut: Timed out
2024-12-17 15:39:07,931 - __main__ - INFO - Polling for updates with offset 794822785...
2024-12-17 15:39:07,931 - telegram.Bot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 30, 'offset': 794822785}`
2024-12-17 15:39:07,932 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-12-17 15:39:07,963 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1039a6ff0>
2024-12-17 15:39:07,963 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x103786d50> server_hostname='api.telegram.org' timeout=5.0
2024-12-17 15:39:07,981 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b57800>
2024-12-17 15:39:07,981 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-12-17 15:39:07,982 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-12-17 15:39:07,982 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-12-17 15:39:07,982 - httpcore.http11 - DEBUG - send_request_body.complete
2024-12-17 15:39:07,982 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-12-17 15:39:38,002 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Tue, 17 Dec 2024 15:39:37 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-12-17 15:39:38,003 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8139093437:AAGyb6pZehLD5GPeO6P4XLM1J40xnYOw-G8/getUpdates "HTTP/1.1 200 OK"
2024-12-17 15:39:38,003 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-12-17 15:39:38,003 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-12-17 15:39:38,003 - httpcore.http11 - DEBUG - response_closed.started
2024-12-17 15:39:38,004 - httpcore.http11 - DEBUG - response_closed.complete
2024-12-17 15:39:38,004 - telegram.Bot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2024-12-17 15:39:38,004 - telegram.Bot - DEBUG - No new updates found.
2024-12-17 15:39:38,004 - __main__ - INFO - Received 0 updates
2024-12-17 15:39:38,004 - __main__ - INFO - Polling for updates with offset 794822785...
2024-12-17 15:39:38,005 - telegram.Bot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 30, 'offset': 794822785}`
2024-12-17 15:39:38,006 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-12-17 15:39:38,006 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-12-17 15:39:38,006 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-12-17 15:39:38,007 - httpcore.http11 - DEBUG - send_request_body.complete
2024-12-17 15:39:38,007 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-12-17 15:40:13,009 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=ReadTimeout(TimeoutError())
2024-12-17 15:40:13,010 - httpcore.http11 - DEBUG - response_closed.started
2024-12-17 15:40:13,010 - httpcore.http11 - DEBUG - response_closed.complete
2024-12-17 15:40:13,011 - __main__ - ERROR - Failed to get updates: Timed out
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 136, in handle_async_request
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 217, in _receive_event
    data = await self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_backends/anyio.py", line 32, in read
    with map_exceptions(exc_map):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 155, in __exit__
    self.gen.throw(value)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_httpxrequest.py", line 293, in do_request
    res = await self._client.request(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 155, in __exit__
    self.gen.throw(value)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/farda/CascadeProjects/ai-tools-ecosystem/src/tools/communication/telegram/bot.py", line 70, in main
    updates = await bot.get_updates(offset=offset, timeout=30)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/_bot.py", line 4480, in get_updates
    await self._post(
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/_bot.py", line 619, in _post
    return await self._do_post(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/_bot.py", line 648, in _do_post
    result = await request.post(
             ^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_baserequest.py", line 202, in post
    result = await self._request_wrapper(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_baserequest.py", line 334, in _request_wrapper
    code, payload = await self.do_request(
                    ^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_httpxrequest.py", line 310, in do_request
    raise TimedOut from err
telegram.error.TimedOut: Timed out
2024-12-17 15:40:14,017 - __main__ - INFO - Polling for updates with offset 794822785...
2024-12-17 15:40:14,017 - telegram.Bot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 30, 'offset': 794822785}`
2024-12-17 15:40:14,019 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-12-17 15:40:14,041 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b696d0>
2024-12-17 15:40:14,041 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x103786d50> server_hostname='api.telegram.org' timeout=5.0
2024-12-17 15:40:14,061 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b6a600>
2024-12-17 15:40:14,061 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-12-17 15:40:14,061 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-12-17 15:40:14,061 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-12-17 15:40:14,062 - httpcore.http11 - DEBUG - send_request_body.complete
2024-12-17 15:40:14,062 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-12-17 15:40:44,082 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Tue, 17 Dec 2024 15:40:44 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-12-17 15:40:44,083 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8139093437:AAGyb6pZehLD5GPeO6P4XLM1J40xnYOw-G8/getUpdates "HTTP/1.1 200 OK"
2024-12-17 15:40:44,083 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-12-17 15:40:44,083 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-12-17 15:40:44,084 - httpcore.http11 - DEBUG - response_closed.started
2024-12-17 15:40:44,084 - httpcore.http11 - DEBUG - response_closed.complete
2024-12-17 15:40:44,084 - telegram.Bot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2024-12-17 15:40:44,084 - telegram.Bot - DEBUG - No new updates found.
2024-12-17 15:40:44,084 - __main__ - INFO - Received 0 updates
2024-12-17 15:40:44,084 - __main__ - INFO - Polling for updates with offset 794822785...
2024-12-17 15:40:44,085 - telegram.Bot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 30, 'offset': 794822785}`
2024-12-17 15:40:44,086 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-12-17 15:40:44,086 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-12-17 15:40:44,086 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-12-17 15:40:44,087 - httpcore.http11 - DEBUG - send_request_body.complete
2024-12-17 15:40:44,087 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-12-17 15:41:19,089 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=ReadTimeout(TimeoutError())
2024-12-17 15:41:19,089 - httpcore.http11 - DEBUG - response_closed.started
2024-12-17 15:41:19,090 - httpcore.http11 - DEBUG - response_closed.complete
2024-12-17 15:41:19,090 - __main__ - ERROR - Failed to get updates: Timed out
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 136, in handle_async_request
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 217, in _receive_event
    data = await self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_backends/anyio.py", line 32, in read
    with map_exceptions(exc_map):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 155, in __exit__
    self.gen.throw(value)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_httpxrequest.py", line 293, in do_request
    res = await self._client.request(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 155, in __exit__
    self.gen.throw(value)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/farda/CascadeProjects/ai-tools-ecosystem/src/tools/communication/telegram/bot.py", line 70, in main
    updates = await bot.get_updates(offset=offset, timeout=30)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/_bot.py", line 4480, in get_updates
    await self._post(
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/_bot.py", line 619, in _post
    return await self._do_post(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/_bot.py", line 648, in _do_post
    result = await request.post(
             ^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_baserequest.py", line 202, in post
    result = await self._request_wrapper(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_baserequest.py", line 334, in _request_wrapper
    code, payload = await self.do_request(
                    ^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_httpxrequest.py", line 310, in do_request
    raise TimedOut from err
telegram.error.TimedOut: Timed out
2024-12-17 15:41:20,096 - __main__ - INFO - Polling for updates with offset 794822785...
2024-12-17 15:41:20,096 - telegram.Bot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 30, 'offset': 794822785}`
2024-12-17 15:41:20,097 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-12-17 15:41:20,130 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b57800>
2024-12-17 15:41:20,130 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x103786d50> server_hostname='api.telegram.org' timeout=5.0
2024-12-17 15:41:20,149 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103930a70>
2024-12-17 15:41:20,150 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-12-17 15:41:20,150 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-12-17 15:41:20,150 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-12-17 15:41:20,151 - httpcore.http11 - DEBUG - send_request_body.complete
2024-12-17 15:41:20,151 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-12-17 15:41:50,170 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Tue, 17 Dec 2024 15:41:50 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-12-17 15:41:50,170 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8139093437:AAGyb6pZehLD5GPeO6P4XLM1J40xnYOw-G8/getUpdates "HTTP/1.1 200 OK"
2024-12-17 15:41:50,171 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-12-17 15:41:50,171 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-12-17 15:41:50,171 - httpcore.http11 - DEBUG - response_closed.started
2024-12-17 15:41:50,171 - httpcore.http11 - DEBUG - response_closed.complete
2024-12-17 15:41:50,171 - telegram.Bot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2024-12-17 15:41:50,171 - telegram.Bot - DEBUG - No new updates found.
2024-12-17 15:41:50,171 - __main__ - INFO - Received 0 updates
2024-12-17 15:41:50,171 - __main__ - INFO - Polling for updates with offset 794822785...
2024-12-17 15:41:50,172 - telegram.Bot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 30, 'offset': 794822785}`
2024-12-17 15:41:50,172 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-12-17 15:41:50,173 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-12-17 15:41:50,173 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-12-17 15:41:50,173 - httpcore.http11 - DEBUG - send_request_body.complete
2024-12-17 15:41:50,173 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-12-17 15:42:10,773 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=ReadError(BrokenResourceError())
2024-12-17 15:42:10,773 - httpcore.http11 - DEBUG - response_closed.started
2024-12-17 15:42:10,774 - httpcore.http11 - DEBUG - response_closed.complete
2024-12-17 15:42:10,774 - __main__ - ERROR - Failed to get updates: httpx.ReadError: 
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 136, in handle_async_request
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 217, in _receive_event
    data = await self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_backends/anyio.py", line 32, in read
    with map_exceptions(exc_map):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 155, in __exit__
    self.gen.throw(value)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_httpxrequest.py", line 293, in do_request
    res = await self._client.request(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 155, in __exit__
    self.gen.throw(value)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/farda/CascadeProjects/ai-tools-ecosystem/src/tools/communication/telegram/bot.py", line 70, in main
    updates = await bot.get_updates(offset=offset, timeout=30)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/_bot.py", line 4480, in get_updates
    await self._post(
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/_bot.py", line 619, in _post
    return await self._do_post(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/_bot.py", line 648, in _do_post
    result = await request.post(
             ^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_baserequest.py", line 202, in post
    result = await self._request_wrapper(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_baserequest.py", line 334, in _request_wrapper
    code, payload = await self.do_request(
                    ^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_httpxrequest.py", line 317, in do_request
    raise NetworkError(f"httpx.{err.__class__.__name__}: {err}") from err
telegram.error.NetworkError: httpx.ReadError: 
2024-12-17 15:42:11,776 - __main__ - INFO - Polling for updates with offset 794822785...
2024-12-17 15:42:11,777 - telegram.Bot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 30, 'offset': 794822785}`
2024-12-17 15:42:11,777 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-12-17 15:42:11,794 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b57680>
2024-12-17 15:42:11,794 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x103786d50> server_hostname='api.telegram.org' timeout=5.0
2024-12-17 15:42:11,814 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b54fe0>
2024-12-17 15:42:11,815 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-12-17 15:42:11,815 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-12-17 15:42:11,815 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-12-17 15:42:11,815 - httpcore.http11 - DEBUG - send_request_body.complete
2024-12-17 15:42:11,816 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-12-17 15:42:41,901 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Tue, 17 Dec 2024 15:42:41 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-12-17 15:42:41,901 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8139093437:AAGyb6pZehLD5GPeO6P4XLM1J40xnYOw-G8/getUpdates "HTTP/1.1 200 OK"
2024-12-17 15:42:41,901 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-12-17 15:42:41,902 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-12-17 15:42:41,902 - httpcore.http11 - DEBUG - response_closed.started
2024-12-17 15:42:41,902 - httpcore.http11 - DEBUG - response_closed.complete
2024-12-17 15:42:41,903 - telegram.Bot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2024-12-17 15:42:41,903 - telegram.Bot - DEBUG - No new updates found.
2024-12-17 15:42:41,903 - __main__ - INFO - Received 0 updates
2024-12-17 15:42:41,903 - __main__ - INFO - Polling for updates with offset 794822785...
2024-12-17 15:42:41,903 - telegram.Bot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 30, 'offset': 794822785}`
2024-12-17 15:42:41,903 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-12-17 15:42:41,904 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-12-17 15:42:41,904 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-12-17 15:42:41,904 - httpcore.http11 - DEBUG - send_request_body.complete
2024-12-17 15:42:41,904 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-12-17 15:43:02,582 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=ReadError(BrokenResourceError())
2024-12-17 15:43:02,583 - httpcore.http11 - DEBUG - response_closed.started
2024-12-17 15:43:02,583 - httpcore.http11 - DEBUG - response_closed.complete
2024-12-17 15:43:02,583 - __main__ - ERROR - Failed to get updates: httpx.ReadError: 
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 136, in handle_async_request
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 217, in _receive_event
    data = await self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_backends/anyio.py", line 32, in read
    with map_exceptions(exc_map):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 155, in __exit__
    self.gen.throw(value)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_httpxrequest.py", line 293, in do_request
    res = await self._client.request(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 155, in __exit__
    self.gen.throw(value)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/farda/CascadeProjects/ai-tools-ecosystem/src/tools/communication/telegram/bot.py", line 70, in main
    updates = await bot.get_updates(offset=offset, timeout=30)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/_bot.py", line 4480, in get_updates
    await self._post(
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/_bot.py", line 619, in _post
    return await self._do_post(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/_bot.py", line 648, in _do_post
    result = await request.post(
             ^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_baserequest.py", line 202, in post
    result = await self._request_wrapper(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_baserequest.py", line 334, in _request_wrapper
    code, payload = await self.do_request(
                    ^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_httpxrequest.py", line 317, in do_request
    raise NetworkError(f"httpx.{err.__class__.__name__}: {err}") from err
telegram.error.NetworkError: httpx.ReadError: 
2024-12-17 15:43:03,586 - __main__ - INFO - Polling for updates with offset 794822785...
2024-12-17 15:43:03,587 - telegram.Bot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 30, 'offset': 794822785}`
2024-12-17 15:43:03,588 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-12-17 15:43:03,619 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b41760>
2024-12-17 15:43:03,620 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x103786d50> server_hostname='api.telegram.org' timeout=5.0
2024-12-17 15:43:03,638 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b555b0>
2024-12-17 15:43:03,639 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-12-17 15:43:03,639 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-12-17 15:43:03,639 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-12-17 15:43:03,639 - httpcore.http11 - DEBUG - send_request_body.complete
2024-12-17 15:43:03,639 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-12-17 15:43:10,735 - src.tools.communication.telegram.bot - INFO - Logging initialized successfully. Log file: /Users/farda/CascadeProjects/ai-tools-ecosystem/src/tools/communication/telegram/logs/telegram_bot.log
2024-12-17 15:43:10,736 - asyncio - DEBUG - Using selector: KqueueSelector
2024-12-17 15:43:10,742 - src.agents.godfarda.godfarda_agent - INFO - Registered agent: textagent with capabilities: []
2024-12-17 15:43:10,742 - src.agents.godfarda.godfarda_agent - INFO - Registered agent: textagent
2024-12-17 15:43:10,746 - src.agents.godfarda.godfarda_agent - INFO - Registered agent: communicationsagent with capabilities: []
2024-12-17 15:43:10,746 - src.agents.godfarda.godfarda_agent - INFO - Registered agent: communicationsagent
2024-12-17 15:43:10,762 - src.tools.communication.telegram.process_manager - INFO - Terminated existing bot process 60034: /Library/Frameworks/Python.framework/Versions/3.12/Resources/Python.app/Contents/MacOS/Python -m src.tools.communication.telegram.bot
2024-12-17 15:43:10,762 - src.tools.communication.telegram.process_manager - INFO - Killed existing bot processes
2024-12-17 15:43:10,845 - telegram.Bot - DEBUG - Calling Bot API endpoint `getMe` with parameters `{}`
2024-12-17 15:43:10,849 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-12-17 15:43:10,877 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10344fa10>
2024-12-17 15:43:10,878 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10329bc50> server_hostname='api.telegram.org' timeout=5.0
2024-12-17 15:43:10,911 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103259940>
2024-12-17 15:43:10,912 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-12-17 15:43:10,912 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-12-17 15:43:10,912 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-12-17 15:43:10,912 - httpcore.http11 - DEBUG - send_request_body.complete
2024-12-17 15:43:10,912 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-12-17 15:43:10,945 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Tue, 17 Dec 2024 15:43:10 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'249'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-12-17 15:43:10,946 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8139093437:AAGyb6pZehLD5GPeO6P4XLM1J40xnYOw-G8/getMe "HTTP/1.1 200 OK"
2024-12-17 15:43:10,946 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-12-17 15:43:10,946 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-12-17 15:43:10,946 - httpcore.http11 - DEBUG - response_closed.started
2024-12-17 15:43:10,946 - httpcore.http11 - DEBUG - response_closed.complete
2024-12-17 15:43:10,946 - telegram.Bot - DEBUG - Call to Bot API endpoint `getMe` finished with return value `{'id': 8139093437, 'is_bot': True, 'first_name': 'Godfarda', 'username': 'Godfardabot', 'can_join_groups': True, 'can_read_all_group_messages': False, 'supports_inline_queries': False, 'can_connect_to_business': False, 'has_main_web_app': False}`
2024-12-17 15:43:10,946 - src.tools.communication.telegram.base - INFO - Successfully connected to Telegram as @Godfardabot
2024-12-17 15:43:10,946 - src.agents.godfarda.godfarda_agent - INFO - Initializing GodFarda with 2 registered agents
2024-12-17 15:43:10,946 - src.tools.ai.ollama.chat - INFO - Initializing Ollama chat tool...
2024-12-17 15:43:10,954 - src.tools.ai.ollama.chat - INFO - Available Ollama models: ['llama3.2:latest']
2024-12-17 15:43:10,954 - src.tools.ai.ollama.chat - INFO - Ollama chat tool initialized successfully
2024-12-17 15:43:10,954 - src.agents.godfarda.godfarda_agent - INFO - Ollama chat tool initialized successfully
2024-12-17 15:43:10,954 - src.agents.godfarda.godfarda_agent - INFO - Godfarda agent initialized successfully
2024-12-17 15:43:10,955 - src.tools.communication.telegram.bot - INFO - Deleting existing webhook...
2024-12-17 15:43:10,955 - telegram.Bot - DEBUG - Calling Bot API endpoint `deleteWebhook` with parameters `{}`
2024-12-17 15:43:10,955 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-12-17 15:43:10,955 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-12-17 15:43:10,955 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-12-17 15:43:10,955 - httpcore.http11 - DEBUG - send_request_body.complete
2024-12-17 15:43:10,955 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-12-17 15:43:10,973 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Tue, 17 Dec 2024 15:43:10 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'68'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-12-17 15:43:10,974 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8139093437:AAGyb6pZehLD5GPeO6P4XLM1J40xnYOw-G8/deleteWebhook "HTTP/1.1 200 OK"
2024-12-17 15:43:10,974 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-12-17 15:43:10,974 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-12-17 15:43:10,974 - httpcore.http11 - DEBUG - response_closed.started
2024-12-17 15:43:10,974 - httpcore.http11 - DEBUG - response_closed.complete
2024-12-17 15:43:10,974 - telegram.Bot - DEBUG - Call to Bot API endpoint `deleteWebhook` finished with return value `True`
2024-12-17 15:43:10,974 - src.tools.communication.telegram.bot - INFO - Webhook deleted successfully
2024-12-17 15:43:10,974 - src.tools.communication.telegram.bot - INFO - Starting Telegram bot with token: 81390...
2024-12-17 15:43:10,974 - src.tools.communication.telegram.bot - INFO - Polling for updates with offset None...
2024-12-17 15:43:10,974 - telegram.Bot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 30}`
2024-12-17 15:43:10,974 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-12-17 15:43:10,990 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1034e83b0>
2024-12-17 15:43:10,990 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x103460450> server_hostname='api.telegram.org' timeout=5.0
2024-12-17 15:43:11,007 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1034b3e60>
2024-12-17 15:43:11,007 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-12-17 15:43:11,007 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-12-17 15:43:11,007 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-12-17 15:43:11,007 - httpcore.http11 - DEBUG - send_request_body.complete
2024-12-17 15:43:11,007 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-12-17 15:43:41,065 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Tue, 17 Dec 2024 15:43:41 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-12-17 15:43:41,066 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8139093437:AAGyb6pZehLD5GPeO6P4XLM1J40xnYOw-G8/getUpdates "HTTP/1.1 200 OK"
2024-12-17 15:43:41,067 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-12-17 15:43:41,068 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-12-17 15:43:41,068 - httpcore.http11 - DEBUG - response_closed.started
2024-12-17 15:43:41,068 - httpcore.http11 - DEBUG - response_closed.complete
2024-12-17 15:43:41,068 - telegram.Bot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2024-12-17 15:43:41,069 - telegram.Bot - DEBUG - No new updates found.
2024-12-17 15:43:41,069 - src.tools.communication.telegram.bot - INFO - Received 0 updates
2024-12-17 15:43:41,069 - src.tools.communication.telegram.bot - INFO - Polling for updates with offset None...
2024-12-17 15:43:41,069 - telegram.Bot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 30}`
2024-12-17 15:43:41,070 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-12-17 15:43:41,071 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-12-17 15:43:41,071 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-12-17 15:43:41,071 - httpcore.http11 - DEBUG - send_request_body.complete
2024-12-17 15:43:41,071 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-12-17 15:44:01,792 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=ReadError(BrokenResourceError())
2024-12-17 15:44:01,794 - httpcore.http11 - DEBUG - response_closed.started
2024-12-17 15:44:01,794 - httpcore.http11 - DEBUG - response_closed.complete
2024-12-17 15:44:01,794 - src.tools.communication.telegram.bot - ERROR - Failed to get updates: httpx.ReadError: 
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 136, in handle_async_request
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_async/http11.py", line 217, in _receive_event
    data = await self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_backends/anyio.py", line 32, in read
    with map_exceptions(exc_map):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 155, in __exit__
    self.gen.throw(value)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_httpxrequest.py", line 293, in do_request
    res = await self._client.request(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 155, in __exit__
    self.gen.throw(value)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/farda/CascadeProjects/ai-tools-ecosystem/src/tools/communication/telegram/bot.py", line 70, in main
    updates = await bot.get_updates(offset=offset, timeout=30)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/_bot.py", line 4480, in get_updates
    await self._post(
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/_bot.py", line 619, in _post
    return await self._do_post(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/_bot.py", line 648, in _do_post
    result = await request.post(
             ^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_baserequest.py", line 202, in post
    result = await self._request_wrapper(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_baserequest.py", line 334, in _request_wrapper
    code, payload = await self.do_request(
                    ^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/telegram/request/_httpxrequest.py", line 317, in do_request
    raise NetworkError(f"httpx.{err.__class__.__name__}: {err}") from err
telegram.error.NetworkError: httpx.ReadError: 
2024-12-17 15:44:02,808 - src.tools.communication.telegram.bot - INFO - Polling for updates with offset None...
2024-12-17 15:44:02,809 - telegram.Bot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 30}`
2024-12-17 15:44:02,810 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-12-17 15:44:02,844 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1034b35c0>
2024-12-17 15:44:02,844 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x103460450> server_hostname='api.telegram.org' timeout=5.0
2024-12-17 15:44:02,867 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x102d01880>
2024-12-17 15:44:02,868 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-12-17 15:44:02,869 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-12-17 15:44:02,869 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-12-17 15:44:02,870 - httpcore.http11 - DEBUG - send_request_body.complete
2024-12-17 15:44:02,870 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-12-17 15:44:32,887 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Tue, 17 Dec 2024 15:44:32 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-12-17 15:44:32,889 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8139093437:AAGyb6pZehLD5GPeO6P4XLM1J40xnYOw-G8/getUpdates "HTTP/1.1 200 OK"
2024-12-17 15:44:32,889 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-12-17 15:44:32,890 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-12-17 15:44:32,890 - httpcore.http11 - DEBUG - response_closed.started
2024-12-17 15:44:32,890 - httpcore.http11 - DEBUG - response_closed.complete
2024-12-17 15:44:32,892 - telegram.Bot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2024-12-17 15:44:32,892 - telegram.Bot - DEBUG - No new updates found.
2024-12-17 15:44:32,893 - src.tools.communication.telegram.bot - INFO - Received 0 updates
2024-12-17 15:44:32,893 - src.tools.communication.telegram.bot - INFO - Polling for updates with offset None...
2024-12-17 15:44:32,893 - telegram.Bot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 30}`
2024-12-17 15:44:32,896 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-12-17 15:44:32,898 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-12-17 15:44:32,898 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-12-17 15:44:32,898 - httpcore.http11 - DEBUG - send_request_body.complete
2024-12-17 15:44:32,898 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
